<div class="absolute inset-0 overflow-hidden flex flex-col flex-auto min-w-0">
    <!-- Header -->
    <div
        class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between p-6 sm:py-4 border-b bg-card dark:bg-transparent">
        <div class="flex-1 min-w-0">
            <!-- Breadcrumbs -->
            <div>
                <div class="hidden sm:flex flex-wrap items-center font-medium">
                    <div>
                        <a class="whitespace-nowrap text-primary-500">ข้อมูลเป้าหมาย</a>
                    </div>
                    <div class="flex items-center ml-1 whitespace-nowrap">
                        <mat-icon class="icon-size-5 text-secondary" [svgIcon]="'heroicons_solid:chevron-right'">
                        </mat-icon>
                        <span class="ml-1 text-secondary">สร้างเป้าหมายใหม่</span>
                    </div>
                </div>
            </div>
            <!-- Title -->
            <div class="mt-2">
                <h2 class="text-3xl md:text-4xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate">
                    <div style="display: flex; align-items: center;">
                        <mat-icon svgIcon="heroicons_outline:clipboard-list" class="w-10 min-w-10 mr-2"></mat-icon>กรุณาเลือกหน่วยงานสำหรับการสร้างเป้าหมาย
                    </div>
                </h2>
            </div>
        </div>
    </div>

    <!-- Main -->
    <div class="flex-auto p-6 overflow-y-auto">
        <div class="flex-auto">
            <div class="xl:col-span-2 flex flex-col flex-auto bg-card shadow rounded overflow-hidden">
                <div class="example-table-container">
                    <div class="overflow-x-auto">
                        <table mat-table [dataSource]="dataSource" class="my-target-table mat-elevation-z8" style="width:100%"
                        matSort>
                            <ng-container *ngFor="let key of displayedColumns" [matColumnDef]="key">
                                <ng-container *ngIf="notSortColumn.includes(key)">
                                    <th mat-header-cell *matHeaderCellDef [ngClass]="{ 'text-center' : key == 'chooseIcon' }">{{ keyToColumnName[key] }}</th>
                                </ng-container>
                                <ng-container *ngIf="!notSortColumn.includes(key)">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ keyToColumnName[key] }}</th>
                                </ng-container>
                                <td mat-cell *matCellDef="let element; let i = index">
                                    <ng-container *ngIf="key == 'index'">{{ (paginator.pageIndex * paginator.pageSize) + (i + 1) }}</ng-container>
                                    <ng-container *ngIf="key == 'chooseIcon'">
                                        <a class="flex items-center justify-center" [routerLink]="'./'+element.organizeCode">
                                            <mat-icon *ngIf="element.canCreate" svgIcon="heroicons_outline:check" class="w-4 min-w-4 cursor-pointer" title="เลือกหน่วยงานสำหรับสร้างเป้าหมาย"></mat-icon>
                                        </a>
                                    </ng-container>
                                    <ng-container *ngIf="key != 'index' && key != 'chooseIcon'">{{ element[key] }}</ng-container>
                                </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                        </table>
                    </div>
                    <mat-paginator #paginator [pageSize]="defaultPageSize" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements">
                    </mat-paginator>
                </div>
            </div>
        </div>
    </div>
</div>
