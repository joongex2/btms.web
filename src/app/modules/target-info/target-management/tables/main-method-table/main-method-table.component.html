<p class="table-title flex flex-row justify-between items-center">
    <span>แผนงาน/รายละเอียด</span>
    <!-- <span class="flex items-center cursor-pointer" (click)="addMainMethod();">
        <mat-icon style="color:white" svgIcon="heroicons_outline:plus"></mat-icon>เพิ่มแผนงาน/รายละเอียด
    </span> -->
</p>
<table class="main-method-table" mat-table [dataSource]="mainMethods" multiTemplateDataRows #mainMethodTable>
    <!-- <ng-container matColumnDef="mainMethodId">
        <td mat-cell *matCellDef="let element; let i = dataIndex">
            1
        </td>
    </ng-container> -->
    <ng-container matColumnDef="mainMethodDetail">
        <td mat-cell *matCellDef="let element; let i = dataIndex">
            <div class="flex flex-col w-full">
                <app-plan-table 
                    [runningNo]="runningNo"
                    [targetId]="targetId"
                    [subTargetId]="subTargetId"
                    [mainMethodIndex]="i"
                    [plans]="topics"
                    (markForEdit)="markForEditHandler($event)"
                    >
                </app-plan-table>
                <app-method-table
                    [runningNo]="runningNo"
                    [targetId]="targetId"
                    [subTargetId]="subTargetId"
                    [mainMethodIndex]="i"
                    [methods]="plans"
                    [conditions]="conditions"
                    (markForEdit)="markForEditHandler($event)"
                ></app-method-table>    
            </div>
        </td>
    </ng-container>
    <!-- <ng-container matColumnDef="deleteIcon">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element; let i = dataIndex">
            <mat-icon (click)="deleteMainMethod(i);" svgIcon="heroicons_outline:x" class="w-5 min-w-5 cursor-pointer" title="ลบแผนงาน/รายละเอียด"></mat-icon>
        </td>
    </ng-container> -->
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="normal-row"></tr>
</table>